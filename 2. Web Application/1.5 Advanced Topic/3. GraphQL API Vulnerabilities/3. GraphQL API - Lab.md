##### #1 Lab: Accessing private GraphQL posts

```
#### 1 Lab: Accessing private GraphQL posts

Identify the vulnerability:
# In Burp's browser, access the blog page.
# In Burp, go to Proxy > HTTP history and notice the following:
  - Blog posts are retrieved using a GraphQL query.
  - In the response to the GraphQL query, each blog post has its own sequential id.
  - Blog post id 3 is missing from the list. This indicates that there is a hidden blog post.
# Find the POST /graphql/v1 request. Right-click it and select Send to Repeater.
# In Repeater, right-click anywhere in the Request panel of the message editor and select GraphQL > Set introspection query to insert an introspection query into the request body.
# Send the request. Notice in the response that the BlogPost type has a postPassword field available.



#1 - Exploit the vulnerability to find the password
#In the HTTP history, find the POST /graphql/v1 request. Right-click it and select Send to Repeater.
#In Repeater, click on the GraphQL tab. In the Variables panel, modify the id variable to 3 (the ID of the hidden blog post).
#In the Query panel, add the postPassword field to the query.
#Send the request.
#Copy the contents of the response's postPassword field and paste them into the Submit solution dialog to solve the lab. You may need to refresh the page.
```


##### #2 Lab: Accidental exposure of private GraphQL fields
```
#2 Lab: Accidental exposure of private GraphQL fields



Identify the vulnerability:
# In Burp's browser, access the lab and select My account.
# Attempt to log in to the site.
# In Burp, go to Proxy > HTTP history and notice that the login attempt is sent as a GraphQL mutation containing a username and password.
# Right-click the login request and select Send to Repeater.
# In Repeater, right-click anywhere within the Request panel of the message editor and select GraphQL > Set introspection query to insert an introspection query into the request body.
# Send the request.
# Right-click the message and select GraphQL > Save GraphQL queries to site map.
# Go to Target > Site map and review the GraphQL queries. Notice the following:
	- There is a getUser query that returns a user's username and password.
	- This query fetches the relevant user information via a direct reference to an id number.


#2 Modify the query to retrieve the administrator credentials:

# Right-click the the getUser query and select Send to Repeater.
# In Repeater, click Send. Notice that the default id value of 0 doesn't return a user.
# Select the GraphQL tab and test alternative values for the id variable until the API returns the administrator's credentials. In this case, the administrator's ID is 1.
# Log in to the site as the administrator, go to the Admin panel, and delete carlos to solve the lab.
```


