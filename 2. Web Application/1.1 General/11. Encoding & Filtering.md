

```

### Topic OverView:
+ Introduction To Encoding, Filtering & Evasion.
+ HTML Encoding.
+ URL Encoding.
+ Base64 Encoding.
+ Bypassing Client-Side Filters.
+ Bypassing Server-Side Filters.
+ Web Application Firewalls (WAF) & Proxies.
+ Evading WAFs, Proxies and IDSs.



### Learning Objectives:
+ You will have a good understanding of the importance of encoding on the web and its importance in the functionality of web applications.
+ You will have a solid understanding of what content and input filtering is, how and why filtering is implemented in web applications and how server-side and client-side filters can be bypassed.
+ You will have a functional understanding of what Web Application Firewalls (WAF) are, how they work and how they differ from traditional proxies.
+ You will have a solid understanding of the most common forms of encoding on the web, how they work and how why they are implemented (HTML encoding, URL Encoding and Base64 encoding).
+ You will have the ability to detect and bypass common client-side and server-side filters (XSS filters, command injection filters etc).
+ You will be able to bypass/evade rudimentary forms of protection/filtering imposed by proxies/WAFs.


```


```

### Encoding
L‚Äôencoding √® una¬†mappatura tra un charset e una rappresentazione tecnica¬†dei caratteri. Definisce come i caratteri di un charset vengono memorizzati in memoria o su disco. Ad esempio, UTF-8 √® un encoding che rappresenta i caratteri Unicode utilizzando sequenze di byte.



## HTML Encoding:
Converting special characters and reverved symbols into their corresponding HTML.
Start with '&' and end with a semicolon ';'.
L'HTML encoding √® utile per diversi motivi:

1. Caratteri speciali: In HTML, alcuni caratteri hanno un significato speciale (ad esempio `<`, `>`, `&`). Se vuoi utilizzare questi caratteri come testo normale all'interno di una pagina web, devi codificarli in modo che non interferiscano con la struttura dell'HTML. L'HTML encoding ti permette di rappresentare questi caratteri speciali in modo sicuro.

2. Sicurezza: L'HTML encoding √® fondamentale per prevenire attacchi di tipo Cross-Site Scripting (XSS). Quando gli input degli utenti vengono visualizzati direttamente in una pagina HTML, √® importante codificarli correttamente per evitare che codice malevolo venga eseguito nel browser degli utenti.

3. Compatibilit√†: Alcuni caratteri non sono supportati in tutti i set di caratteri o encoding. Utilizzando l'HTML encoding, puoi garantire che il tuo testo sia visualizzato correttamente su tutti i browser e dispositivi.

4. Unicode: L'HTML encoding consente di rappresentare caratteri Unicode (come emoji o caratteri di altre lingue) in modo corretto. Ad esempio, `&#128512;` rappresenta l'emoji del sorriso üòÑ.





## URL Encoding:
URL encoding, also known as percent-encoding, is a process used to encode special characters, reserved characters, and non-ASCII characters into a format that is safe for transmission within URLs (Uniform Resource Locators) and URI (Uniform Resource Identifiers).
URL encoding replaces unsafe characters with a "%" sign followed by two hexadecimal digits that represent the ASCII code of the character.
Generally, web browsers (and other client-side components) automatically perform URL-encoding and, if a server-side script engine is present, it will automatically perform URL-decoding.

- Caratteri speciali: Gli URL spesso contengono caratteri speciali come spazi, simboli o caratteri non ASCII (ad esempio, accenti o emoji). L‚ÄôURL encoding converte questi caratteri in una forma che pu√≤ essere trasmessa in modo sicuro. Ad esempio, uno spazio viene codificato come %20.

- Sicurezza: L‚ÄôURL encoding √® cruciale per prevenire problemi di sicurezza come gli attacchi di tipo SQL injection o Cross-Site Scripting (XSS). Codificando correttamente gli URL, si evita che caratteri pericolosi interferiscano con la struttura dell‚ÄôURL o con il funzionamento del server.

- Compatibilit√†: Alcuni caratteri non sono supportati in tutti i set di caratteri o encoding. Utilizzando l‚ÄôURL encoding, si garantisce che l‚ÄôURL funzioni correttamente su tutti i browser e dispositivi.

- Parametri e query string: Quando si passano parametri o query string negli URL (ad esempio ?parametro=valore), √® essenziale codificarli correttamente per evitare errori o comportamenti imprevisti.






## Base64Encoding:
La codifica Base64 √® un metodo utilizzato per codificare dati binari (come
immagini, file audio e altri dati non di testo) in un formato basato su testo.
‚óè Questa codifica viene comunemente utilizzata per rappresentare dati binari in contesti
dove sono supportati solo dati testuali, come all'interno di messaggi di posta elettronica o negli URL.
‚óè La codifica Base64 funziona convertendo i dati binari in un insieme di ASCII
caratteri, consentendone la trasmissione sicura come testo.

Set di caratteri: la codifica Base64 utilizza un set di 64 caratteri diversi
(da qui il nome "Base64").
‚óè Questi caratteri sono costituiti da lettere (maiuscole e minuscole), cifre e
due caratteri aggiuntivi (spesso + e /).
‚óè Diverse varianti della codifica Base64 possono utilizzare caratteri diversi
le ultime due posizioni.
‚óè Imbottitura: poich√© i dati binari potrebbero non essere equamente divisibili per tre,
il riempimento viene utilizzato per rendere i dati codificati un multiplo di quattro caratteri. Il carattere di riempimento, spesso =, viene aggiunto alla fine della codifica corda.

Mappatura 3-a-4: la codifica Base64 opera su blocchi di tre byte (24
bit) dai dati binari originali. Questi 24 bit sono suddivisi in quattro bit da 6 bit
unit√†, che corrispondono a quattro caratteri Base64.
‚óè Tabella di conversione: i 64 caratteri nel set di caratteri Base64 sono
utilizzato come tabella di mappatura. Ciascuno dei 64 caratteri corrisponde a a
valore specifico a 6 bit.

Processo di codifica: 
‚óã Prendi un pezzo di tre byte dai dati binari. 
‚óã Dividere questi tre byte in quattro segmenti da 6 bit. 
‚óã Mappare ciascun segmento a 6 bit sul corrispondente carattere Base64. 
‚óã Concatenare i quattro caratteri Base64 per creare un segmento della stringa codificata. 
‚óã Se √® necessaria la spaziatura interna, aggiungere caratteri di spaziatura interna alla fine del segmento codificato.

Processo di Decodifica:
‚óè Decodifica: la decodifica Base64 √® il processo inverso. La stringa Base64 codificata √® divisa in segmenti di quattro caratteri. Ogni carattere viene riconvertito nel suo valore a 6 bit e questi valori vengono combinati per ricostruire i dati binari originali.
‚óè Dati binari in contesti di testo: le applicazioni Web spesso trattano dati binari
dati come immagini, audio o file. Poich√© URL, HTML e altri formati basati su testo non possono gestire direttamente dati binari, viene utilizzata la codifica Base64
per rappresentare questi dati binari come testo. Ci√≤ consente ai dati binari di essere
incluso in luoghi che prevedono testo, come nelle risposte HTML o JSON.
‚óè Incorporamento URL dati: gli URL dati sono un modo per incorporare piccole risorse
direttamente nel codice HTML o CSS. Questi URL includono l'effettivo
dati delle risorse in formato codificato Base64, eliminando la necessit√† di
richieste HTTP separate. Ad esempio, √® possibile incorporare un'immagine
direttamente nell'HTML utilizzando un URL di dati.
‚óè Minimizzazione delle richieste: codificando piccole immagini o icone come dati
URL all'interno di CSS o HTML, gli sviluppatori web possono ridurre il numero di
richieste effettuate al server, migliorando potenzialmente i tempi di caricamento della pagina.
‚óè Semplificazione della gestione delle risorse: incorporare direttamente le risorse
in HTML o CSS pu√≤ semplificare la gestione e la distribuzione delle risorse.
Gli sviluppatori non devono preoccuparsi dei percorsi dei file o degli URL.
‚óè Archiviazione offline: in alcune applicazioni offline o a pagina singola, Base64-
i dati codificati possono essere archiviati nella memoria locale o nel DB indicizzato per un rapido accesso senza la necessit√† di recuperare risorse dal server.

- Cos‚Äô√® Base64: In informatica, Base64 √® un gruppo di schemi di codifica binario-testo che trasformano dati binari in una sequenza di caratteri stampabili. Questi caratteri sono limitati a un insieme di 64 caratteri unici. In pratica, i dati binari vengono presi a gruppi di 6 bit alla volta e mappati su uno dei 64 caratteri.

- Utilit√† dell‚Äôencoding Base64:
1. Trasmissione sicura: L‚Äôencoding Base64 √® ampiamente utilizzato quando √® necessario trasmettere dati binari attraverso mezzi progettati per gestire solo testo. Ad esempio, quando invii dati binari tramite e-mail o li includi in documenti XML o JSON, l‚Äôencoding Base64 garantisce che i dati rimangano integri durante il trasporto.

2. Caratteri speciali: Gli URL spesso contengono caratteri speciali come spazi o simboli. L‚Äôencoding Base64 consente di rappresentare questi caratteri in modo sicuro all‚Äôinterno degli URL.

3. Sicurezza: L‚Äôencoding Base64 √® essenziale per prevenire attacchi come Cross-Site Scripting (XSS) o SQL injection. Codificando correttamente gli URL, si evita che caratteri pericolosi interferiscano con la struttura dell‚ÄôURL o con il funzionamento del server.

Opzioni avanzate:
1. Set di caratteri: Il nostro sito web utilizza il set di caratteri UTF-8 per trasmettere i dati. Puoi cambiare questa opzione se desideri convertire i dati in un altro set di caratteri prima dell‚Äôencoding.

2. Separatore di nuova riga: I sistemi Unix e Windows utilizzano caratteri di interruzione di riga diversi. L‚Äôencoding Base64 sostituir√† automaticamente il separatore di nuova riga all‚Äôinterno dei dati con l‚Äôopzione selezionata.

3. Per i file: L‚Äôopzione binaria √® quella predefinita e viene utilizzata per i documenti di testo semplice. Per altri tipi di file, √® necessario selezionare questa opzione.






### Charset
Insieme specifico di caratteri, utilizzati per definire quali caratteri possono essere utilizzati in un determinato contesto.
Es. ASCII, Unicode, Latin-1



## ASCII:
Contain 128 characters, 8 bit character


## Unicode:
Unicode provides a unified system for representing a vast range of characters, symbols, and glyphs in a consistent manner
- UTF - 8: Unicode Transformation Format uses 8-bit to represent characters.
- UTF - 16: 16 bit to represent characters
- 


```