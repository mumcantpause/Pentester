

```

APKTool Open source Tool, built for reversing Android APKs. [https://apktool.org/](https://apktool.org/)  java -jar apktool.jar -d (decode) example.apk    Dex2jar Open source Tools, working with .dex and .class file Convert classes.dex to a .jar file [https://sourceforge.net/projects/dex2jar/](https://sourceforge.net/projects/dex2jar/)  ./d2j-dex2jar.sh ../example.apk/classes.dex -o output.jar ./d2j-dex2jar.sh ../example.apk -o output.jar   JD-GUI Java decompiler, read dex2jarOutput.jar Difference with original code è che the full name delle risorse è espressa con id nel file decompilato, utilizzando l'id specificato nella Rclass   

Smali / Backsmali For Android .dex bytecode viene disassemblato by baksmali, per produrre linugaggio assembly (smali code) [https://github.com/JesusFreke/smali/wiki](https://github.com/JesusFreke/smali/wiki) Disassemble a .dex file in smali code: java -jar baksmali.jar classes.dex  utilizzando l'assembler smali, è possibile fare reverse, modificare il codice e riassemblarlo.   Obfuscation: ProGuard Tools per offuscare il codice inserendo lettere invece del nome delle classi E' necessario all'interno del file di configurazione di build maven/gradle inserire l'indicazione proguardFiles.getDefaultProguardFile('proguard-android.txt').  

Minification with ProGuard: Minification (also minimisation or minimization) is the process of removing all unnecessary characters from the source code of interpreted programming languages or markup languages without changing its functionality.  

For example, the JavaScript code 

// This is a comment that will be removed by the minifiervar array = [];for (var i = 0; i < 20; i++) {  array[i] = i;} 

is equivalent to but longer than 

for(var a=[],i=0;i<20;a[i]=i++); 

  

 Additional APK Contents: Utilizzando apkTools, si hanno i seguenti file utili:  

- apktool.yml (file): E' un file contenente una serie di info utili (es. version apktool, original APK name, if APK uses a Framework, info simili a quelle presenti nel file AndroidManifest.xml, se sono presenti sharedLibrary o file sconosciuti).   - original (folder): Contiene il file AndroidManifest.xml, e Meta-INF directories usati per disassemblare il codice  - smali (folder): Contiene i file smali individuali per ogni .dex file  - unknown (folder):   Hadware Optimization: Alcune volte quando reversi un APK, non ci sarà alcun classes.dex, ma un .odex (optimized dex). Odex è un formato utilizzato per velocizzare il primo boot della ROM.  OEM Apps: APP pre-installate sono in /system/app che potrebbero runnare with system (root level) permissions ed essere in formato .odex  

Practice .sdk in .zip .zip unzip APK Tools decompile .apk to .dex 

Dex2jar jd-gui read .jar files  Se ho invio di SMS da qualche activity, in chiaro, posso utilizzarla per richiamare l'activity e far ricevere messaggi a nome della banca. 

  Smali:  

Posso usare per reversing 1. jadx -d example_src example.apk => File con cartelle source e resources  2. apktool -d  3. /d2j-dex2jar.sh ../example.apk -o output.jar  => Jar File  4. Apro jdxgui e salvo tutto  5. Unzippo l'APK, ottenendo un file .dex 

java -jar baksmali-2.5.2.jar d classes.dex (ottengo però smali code)












#. Logcat
Log legel Error + Output file:
> logcat *:E -f /data/local/tmp/log.txt
> logcat com.example.example:E -f /data/local/tmp/log.txt




# ADB
> adb push file.apk /storage/emulated/0/Download
> adb install file.apk


```